(this.webpackJsonppizza=this.webpackJsonppizza||[]).push([[0],{29:function(e,t,c){"use strict";c.r(t);var s=c(1),n=c(17),a=c.n(n),i=c(7),l=c(8),r=c(2),j=c(10),o=Object(s.createContext)(null),d=c(0),b=function(e){var t=Object(s.useState)(!1),c=Object(i.a)(t,2),n=c[0],a=c[1],r=Object(s.useContext)(o),b=r.cart,m=r.setCart,x=e.product;return Object(d.jsx)(l.b,{to:"/products/".concat(x._id),children:Object(d.jsxs)("div",{children:[Object(d.jsx)("img",{src:x.image,alt:"pizza"}),Object(d.jsxs)("div",{className:"text-center",children:[Object(d.jsx)("h2",{className:"text-lg font-bold py-2",children:x.name}),Object(d.jsx)("span",{className:"bg-gray-200 py-1 rounded-full text-sm px-4",children:x.size})]}),Object(d.jsxs)("div",{className:"flex justify-between items-center mt-4",children:[Object(d.jsxs)("span",{children:["\u20b9 ",x.price]}),Object(d.jsxs)("button",{disabled:n,onClick:function(e){!function(e,t){e.preventDefault();var c=Object(j.a)({},b);c.items||(c.items={}),c.items[t._id]?c.items[t._id]+=1:c.items[t._id]=1,c.totalItems||(c.totalItems=0),c.totalItems+=1,m(c),a(!0),setTimeout((function(){a(!1)}),1e3)}(e,x)},className:"".concat(n?"bg-green-500":"bg-yellow-500"," py-1 px-4 rounded-full font-bold"),children:["ADD",n?"ED":""]})]})]})})},m=function(){var e=Object(s.useState)([]),t=Object(i.a)(e,2),c=t[0],n=t[1];return Object(s.useEffect)((function(){fetch("/api/products").then((function(e){return e.json()})).then((function(e){n(e)}))}),[]),Object(d.jsxs)("div",{className:"container mx-auto pb-24",children:[Object(d.jsx)("h1",{className:"text-lg font-bold my-8",children:"Products"}),Object(d.jsx)("div",{className:"grid grid-cols-5 my-8 gap-24",children:c.map((function(e){return Object(d.jsx)(b,{product:e},e._id)}))})]})};var x=function(){return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("div",{className:"hero p-10 py-16",children:Object(d.jsxs)("div",{className:"container mx-auto flex items-center justify-between",children:[Object(d.jsxs)("div",{className:"w-1/2",children:[Object(d.jsx)("h6",{className:"text-lg",children:Object(d.jsx)("em",{children:"Are you hungry ?"})}),Object(d.jsx)("h1",{className:"text-3xl md:text-6xl font-bold",children:"Don't wait !"}),Object(d.jsx)("button",{className:"px-6 px-2 p-3 rounded-full text-white font-bold mt-4 bg-yellow-500 \r hover:bg-yellow-600",children:"Order Now"})]}),Object(d.jsx)("div",{className:"w-1/2",children:Object(d.jsx)("img",{className:"w-4/5 h-96",src:"/images/pizza_main.jpg",alt:"pizza"})})]})}),Object(d.jsx)("div",{className:"pb-24 p-10",children:Object(d.jsx)(m,{})})]})},u=function(){return Object(d.jsx)("div",{className:"py-12 bg-white",children:Object(d.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:Object(d.jsxs)("div",{className:"lg:text-center",children:[Object(d.jsx)("p",{className:"mt-2 text-3xl leading-8 font-extrabold tracking-tight text-gray-900 sm:text-4xl",children:"Kill your Hunger !"}),Object(d.jsx)("p",{className:"mt-4 max-w-2xl text-xl text-gray-500 lg:mx-auto",children:"We provide the delicious Pizza in your city."})]})})})},O=function(){return Object(d.jsx)("div",{className:"p-10",children:Object(d.jsx)(m,{})})},h=function(){var e=Object(s.useState)({}),t=Object(i.a)(e,2),c=t[0],n=t[1],a=Object(r.g)(),l=Object(r.f)();return Object(s.useEffect)((function(){fetch("/api/products/".concat(a._id)).then((function(e){return e.json()})).then((function(e){n(e)}))}),[a._id]),Object(d.jsxs)("div",{className:"container mx-auto mt-12",children:[Object(d.jsx)("button",{className:"mb-12 font-bold",onClick:function(){l.goBack()},children:"Back"}),Object(d.jsxs)("div",{className:"flex",children:[Object(d.jsx)("img",{src:c.image,alt:"pizza"}),Object(d.jsxs)("div",{className:"ml-16",children:[Object(d.jsx)("h1",{className:"text-xl font-bold",children:c.name}),Object(d.jsx)("div",{className:"text-md",children:c.size}),Object(d.jsxs)("div",{className:"font-bold mt-2",children:["\u20b9 ",c.price]}),Object(d.jsx)("button",{className:"bg-yellow-500 py-1 px-8 rounded-full font-bold mt-4",children:"Add to cart"})]})]})]})},f=function(){var e=0,t=Object(s.useState)([]),c=Object(i.a)(t,2),n=c[0],a=c[1],l=Object(s.useContext)(o),r=l.cart,b=l.setCart,m=Object(s.useState)(!1),x=Object(i.a)(m,2),u=x[0],O=x[1];Object(s.useEffect)((function(){r.items&&(u||fetch("/api/products/cart-items",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ids:Object.keys(r.items)})}).then((function(e){return e.json()})).then((function(e){a(e),O(!0)})))}),[r,u]);var h=function(e){return r.items[e]},f=function(t,c){var s=c*h(t);return e+=s,s};return n.length?Object(d.jsxs)("div",{className:"container mx-auto lg:w-1/2 w-full pb-24",children:[Object(d.jsx)("h1",{className:"my-12 font-bold",children:"Cart items"}),Object(d.jsx)("ul",{children:n.map((function(e){return Object(d.jsx)("li",{className:"mb-12",children:Object(d.jsxs)("div",{className:"flex items-center justify-between",children:[Object(d.jsxs)("div",{className:"flex items-center",children:[Object(d.jsx)("img",{className:"h-16",src:e.image,alt:""}),Object(d.jsx)("span",{className:"font-bold ml-4 w-48",children:e.name})]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("button",{onClick:function(){!function(e){var t=r.items[e];if(1!==t){var c=Object(j.a)({},r);c.items[e]=t-1,c.totalItems-=1,b(c)}}(e._id)},className:"bg-yellow-500 px-4 py-2 rounded-full leading-none",children:"-"}),Object(d.jsx)("b",{className:"px-4",children:h(e._id)}),Object(d.jsx)("button",{onClick:function(){!function(e){var t=r.items[e],c=Object(j.a)({},r);c.items[e]=t+1,c.totalItems+=1,b(c)}(e._id)},className:"bg-yellow-500 px-4 py-2 rounded-full leading-none",children:"+"})]}),Object(d.jsxs)("span",{children:["\u20b9 ",f(e._id,e.price)]}),Object(d.jsx)("button",{onClick:function(){!function(e){var t=Object(j.a)({},r),c=t.items[e];delete t.items[e],t.totalItems-=c,b(t);var s=n.filter((function(t){return t._id!==e}));a(s)}(e._id)},className:"bg-red-500 px-4 py-2 rounded-full leading-none text-white",children:"Delete"})]})},e._id)}))}),Object(d.jsx)("hr",{className:"my-6"}),Object(d.jsxs)("div",{className:"text-right",children:[Object(d.jsx)("b",{children:"Grand Total:"})," \u20b9 ",e]}),Object(d.jsx)("div",{className:"text-right mt-6",children:Object(d.jsx)("button",{onClick:function(){window.alert("Order placed succesfully!"),a([]),b({})},className:"bg-yellow-500 px-4 py-2 rounded-full leading-none",children:"Order Now"})})]}):Object(d.jsx)("img",{className:"mx-auto w-1/2 mt-12",src:"/images/emptycart.gif",alt:""})};var p=function(){var e=Object(s.useContext)(o).cart;return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("nav",{className:"container mx-auto flex items-center p-10 justify-between py-2",children:[Object(d.jsx)(l.b,{to:"/",children:Object(d.jsx)("img",{style:{height:150,width:150},className:"mt--2",src:"/images/logo.jpg",alt:"logo"})}),Object(d.jsxs)("ul",{className:"flex items-center",children:[Object(d.jsxs)("li",{children:[" ",Object(d.jsx)(l.b,{to:"/",children:"Home"})]}),Object(d.jsxs)("li",{className:"ml-6 ",children:[" ",Object(d.jsx)(l.b,{to:"/products",children:"Products"})]}),Object(d.jsxs)("li",{className:"ml-6",children:[" ",Object(d.jsx)(l.b,{to:"/about",children:"About Us"})]}),Object(d.jsx)("li",{className:"ml-6",children:Object(d.jsx)(l.b,{to:"cart",children:Object(d.jsxs)("div",{style:{background:"#F59E0D",display:"flex",padding:"6px 12px",borderRadius:"5px",height:"45px",width:"70px"},children:[Object(d.jsx)("span",{className:"mt-1 font-bold",children:e.totalItems?e.totalItems:0}),Object(d.jsx)("img",{src:"/images/cart.png",alt:"cart-icon"})]})})})]})]})})},g=function(){var e=Object(s.useState)({}),t=Object(i.a)(e,2),c=t[0],n=t[1];return Object(s.useEffect)((function(){new Promise((function(e,t){e(window.localStorage.getItem("cart"))})).then((function(e){n(JSON.parse(e))}))}),[]),Object(s.useEffect)((function(){!function(e){window.localStorage.setItem("cart",JSON.stringify(e))}(JSON.stringify(c))}),[c]),Object(d.jsx)(d.Fragment,{children:Object(d.jsx)(l.a,{children:Object(d.jsxs)(o.Provider,{value:{cart:c,setCart:n},children:[Object(d.jsx)(p,{}),Object(d.jsxs)(r.c,{children:[Object(d.jsx)(r.a,{path:"/",component:x,exact:!0}),Object(d.jsx)(r.a,{path:"/about",component:u}),Object(d.jsx)(r.a,{path:"/products",exact:!0,component:O}),Object(d.jsx)(r.a,{path:"/products/:_id",component:h}),Object(d.jsx)(r.a,{path:"/cart",component:f})]})]})})})};a.a.render(Object(d.jsx)(d.Fragment,{children:Object(d.jsx)(g,{})}),document.getElementById("root"))}},[[29,1,2]]]);
//# sourceMappingURL=main.55dc1ae6.chunk.js.map